{% extends 'base.html' %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"

<title>Rota View</title>


<div class="w3-display-topleft w3-padding-large w3-xlarge w3-animate-top">
        IT Rota
    </div>
	
	
<canvas id="myChart" width="1000" height="250"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>


<div class="w3-display-middle">
        <h1 class="w3-jumbo w3-animate-top"></h1>
            <div id="oncall" class="w3-center">
                    <p class="w3-center">On Call Times</p>
            {% for item in totaloncall %}
   
                <hr class="w3-border-grey" style="margin:auto;width:40%">
            {% endfor %}

            {% for record in emp_time %}
                {{ forloop.counter }} : {{ record.employee}}
            {% endfor %}

                   <h3> Previous Month : {{ previous_month }} </h3>
            <h4>Adam Days:  </h4>
                {{ adamtotaldays }}
            <h4>Steffan Days: </h4>
                {{ steffandays }}
            <h4> Kaloyan Days: </h4>
                {{ kaldays }}


<script>
var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'horizontalBar',

        // The data for our dataset
    data: {
        labels: ['Adam', 'Steffan', 'Kaloyan'],
        datasets: [{
            label: 'Days on Call',
            backgroundColor: ["#c45850", "#3e95cd", "#3cba9f"],
            borderColor: 'black',
            data: [{{ adamtotaldays }}, {{ steffandays }}, {{ kaldays }}, 2, 10, 0, 0]
        }]
    },

    // Configuration options go here
    options: {
	}
});

</script>


        <hr class="w3-border-grey" style="margin:auto;width:40%">

        <hr class="w3-border-grey" style="margin:auto;width:40%">

            </div>
</div>



{% endblock %}